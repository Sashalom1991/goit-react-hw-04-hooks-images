{"version":3,"sources":["services/PixabayApi.js","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","oops.jpg","components/ErrorViewApi/ErrorViewApi.jsx","App.jsx","index.js"],"names":["api","fetchArticlesWithQuery","searchQuery","page","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","onClose","src","alt","useEffect","window","addEventListener","handleKeyDown","removeEventListener","e","code","createPortal","className","onClick","event","currentTarget","target","Button","type","Searchbar","onSubmit","useState","setSearchQuery","preventDefault","trim","toast","info","autoComplete","autoFocus","placeholder","value","onChange","ImageGallery","children","ImageGalleryItem","url","CatchError","errorImage","width","App","images","setImages","setPage","imagesLenght","setImagesLenght","isLoading","setIsLoading","error","setError","showModal","setShowModal","urlModal","setUrlModal","altToModal","setAltToModal","fetchImages","options","PixabayApi","prevState","length","catch","console","log","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","onClickImageGalleryItem","getAttribute","map","id","tags","webformatURL","largeImageURL","color","height","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0c43b6e7.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst KEY = '21948648-940e5752284e9bc56aa424f61';\n\nconst fetchArticlesWithQuery = ({searchQuery='', page=1}) => {\n    return axios\n      .get(`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n      .then(response => response.data.hits);\n  };\n\nconst api = {\n  fetchArticlesWithQuery,\n}\n  \n  export default api;","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport '../../App.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, src, alt }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal__content\">\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}","import PropTypes from 'prop-types';\n\nexport default function Button({onClick}){\n    return(\n        <button type=\"button\" className=\"Button\" onClick={onClick} >\n            Load more\n        </button>\n    )\n};\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n  };","// import React, { Component } from 'react';\nimport { useState } from 'react';\nimport { toast } from 'react-toastify';\n\nexport default function Searchbar({onSubmit}){\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const  handleNameChange = e => {\n    return  setSearchQuery(e.currentTarget.value)\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (searchQuery.trim() === '') {\n      toast.info('Enter query!');\n      return;\n    }\n\n    onSubmit(searchQuery);\n    return setSearchQuery('');\n  };\n  \n  return (\n          <header className=\"Searchbar\" onSubmit={handleSubmit}>\n            <form className=\"SearchForm\">\n              <button type=\"submit\" className=\"SearchForm-button\">\n                <span className=\"SearchForm-button-label\">Searc</span>\n              </button>\n    \n              <input\n                className=\"SearchForm-input\"\n                type=\"text\"\n                autoComplete=\"off\"\n                autoFocus\n                placeholder=\"Search images and photos\"\n                value={searchQuery}\n                onChange={handleNameChange}\n              />\n            </form>\n          </header>\n        );\n}\n\n// class Searchbar extends Component {\n//   state = {\n//     searchQuery: '',\n//   };\n\n//   handleNameChange = e => {\n//     this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n//   };\n\n//   handleSubmit = event => {\n//     event.preventDefault();\n//     if (this.state.searchQuery.trim() === '') {\n//       toast.info('Enter query!');\n//       return;\n//     }\n\n//     this.props.onSubmit(this.state.searchQuery);\n//     this.setState({ searchQuery: '' });\n//   };\n\n//   render() {\n//     return (\n//       <header className=\"Searchbar\" onSubmit={this.handleSubmit}>\n//         <form className=\"SearchForm\">\n//           <button type=\"submit\" className=\"SearchForm-button\">\n//             <span className=\"SearchForm-button-label\">Searc</span>\n//           </button>\n\n//           <input\n//             className=\"SearchForm-input\"\n//             type=\"text\"\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//             value={this.state.searchQuery}\n//             onChange={this.handleNameChange}\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// export default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../../App.css';\n\nconst ImageGallery = ({ children }) => (\n  <ul className=\"ImageGallery\">{children}</ul>\n);\n\nImageGallery.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../../App.css';\n\nconst ImageGalleryItem = ({ alt, src, url, onClick }) => (\n  \n  <li className=\"ImageGalleryItem\">\n    <img\n      onClick={onClick}\n      src={src}\n      alt={alt}\n      url={url}\n      className=\"ImageGalleryItemImage\"\n    />\n  </li>\n);\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\nexport default ImageGalleryItem;\n","export default __webpack_public_path__ + \"static/media/oops.3ad17dcf.jpg\";","import errorImage from '../../oops.jpg';\nimport '../../App.css';\n\nexport default function CatchError() {\n  return (\n    <div className=\"CatchError\">\n      <img src={errorImage} alt=\"oops, error\" width=\"240\" />\n      <p>Oops!!! Something went wrong.</p>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport PixabayApi from './services/PixabayApi';\n\nimport Modal from './components/Modal';\nimport Button from './components/Button/Button';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './components/ImageGalleryItem/ImageGalleryItem';\nimport CatchError from './components/ErrorViewApi/ErrorViewApi';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nexport default function App() {\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [imagesLenght, setImagesLenght] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [urlModal, setUrlModal] = useState('');\n  const [altToModal, setAltToModal] = useState('');\n  \n  useEffect(() => {\n    if (searchQuery === '') {\n      return;\n    }\n    fetchImages();\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (page > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }, [page]);\n\n  function fetchImages() {\n    const options = { searchQuery, page };\n\n    setIsLoading(true);\n\n    PixabayApi.fetchArticlesWithQuery(options)\n      .then(images => {\n        setImages(prevState => [...prevState, ...images]);\n        setPage(page => page + 1);\n        setImagesLenght([...images]);\n\n        if (images.length === 0) {\n          toast.error('Sorry, we didn it find anything. Try again!');\n        }\n      })\n      .catch(error => {\n        setError(error);\n        console.log(error);\n        return;\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }\n\n  const handleFormSubmit = searchQuery => {\n    setSearchQuery(searchQuery);\n    setPage(1);\n    setImages([]);\n    setError(null);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const onClickImageGalleryItem = e => {\n    setUrlModal(e.currentTarget.getAttribute('url'));\n    setAltToModal(e.currentTarget.getAttribute('alt'));\n\n    toggleModal();\n  };\n\n  return (\n    <>\n      <ToastContainer />\n      <Searchbar onSubmit={handleFormSubmit} />\n      {error && <CatchError />}\n      <ImageGallery>\n          {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n            <ImageGalleryItem\n              key={id}\n              alt={tags}\n              src={webformatURL}\n              url={largeImageURL}\n              onClick={onClickImageGalleryItem}\n            />\n          ))}\n        </ImageGallery>\n      {isLoading && (\n        <div className=\"LoaderContainer\">\n          <Loader type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\n        </div>\n      )}\n      {!(imagesLenght.length < 12) && (\n        <div className=\"ButtonContainer\">\n          <Button onClick={fetchImages} />\n        </div>\n      )}\n\n      {showModal && <Loader /> && (\n        <Modal onClose={toggleModal} src={urlModal} alt={altToModal}></Modal>\n      )}\n    </>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}