(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,c){},6:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(5),o=c.n(r),i=(c(28),c(12)),s=c(4),u=c(8),l=c(23),j=c.n(l),b={fetchArticlesWithQuery:function(e){var t=e.searchQuery,c=void 0===t?"":t,n=e.page,a=void 0===n?1:n;return j.a.get("https://pixabay.com/api/?q=".concat(c,"&page=").concat(a,"&key=").concat("21948648-940e5752284e9bc56aa424f61","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}},h=(c(6),c(1)),O=document.querySelector("#modal-root");function d(e){var t=e.onClose,c=e.src,a=e.alt;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(h.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{className:"Modal__content",children:Object(h.jsx)("img",{src:c,alt:a})})}),O)}function m(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}function f(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1];return Object(h.jsx)("header",{className:"Searchbar",onSubmit:function(e){if(e.preventDefault(),""!==r.trim())return t(r),o("");u.b.info("Enter query!")},children:Object(h.jsxs)("form",{className:"SearchForm",children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Searc"})}),Object(h.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){return o(e.currentTarget.value)}})]})})}var g=function(e){var t=e.children;return Object(h.jsx)("ul",{className:"ImageGallery",children:t})},p=function(e){var t=e.alt,c=e.src,n=e.url,a=e.onClick;return Object(h.jsx)("li",{className:"ImageGalleryItem",children:Object(h.jsx)("img",{onClick:a,src:c,alt:t,url:n,className:"ImageGalleryItemImage"})})},x=c.p+"static/media/oops.3ad17dcf.jpg";function v(){return Object(h.jsxs)("div",{className:"CatchError",children:[Object(h.jsx)("img",{src:x,alt:"oops, error",width:"240"}),Object(h.jsx)("p",{children:"Oops!!! Something went wrong."})]})}var y=c(14),S=c.n(y);c(68),c(69);function w(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),l=o[0],j=o[1],O=Object(n.useState)([]),x=Object(s.a)(O,2),y=x[0],w=x[1],k=Object(n.useState)(""),C=Object(s.a)(k,2),N=C[0],E=C[1],F=Object(n.useState)(!1),I=Object(s.a)(F,2),L=I[0],T=I[1],B=Object(n.useState)(null),A=Object(s.a)(B,2),Q=A[0],_=A[1],q=Object(n.useState)(!1),G=Object(s.a)(q,2),J=G[0],M=G[1],R=Object(n.useState)(""),U=Object(s.a)(R,2),W=U[0],z=U[1],D=Object(n.useState)(""),H=Object(s.a)(D,2),P=H[0],K=H[1];function V(){var e={searchQuery:N,page:l};T(!0),b.fetchArticlesWithQuery(e).then((function(e){a((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),j((function(e){return e+1})),w(Object(i.a)(e)),0===e.length&&u.b.error("Sorry, we didn it find anything. Try again!")})).catch((function(e){_(e),console.log(e)})).finally((function(){T(!1)}))}Object(n.useEffect)((function(){""!==N&&V()}),[N]),Object(n.useEffect)((function(){l>2&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[l]);var X=function(){M(!J)},Y=function(e){z(e.currentTarget.getAttribute("url")),K(e.currentTarget.getAttribute("alt")),X()};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{}),Object(h.jsx)(f,{onSubmit:function(e){E(e),j(1),a([]),_(null)}}),Q&&Object(h.jsx)(v,{}),Object(h.jsx)(g,{children:c.map((function(e){var t=e.id,c=e.tags,n=e.webformatURL,a=e.largeImageURL;return Object(h.jsx)(p,{alt:c,src:n,url:a,onClick:Y},t)}))}),L&&Object(h.jsx)("div",{className:"LoaderContainer",children:Object(h.jsx)(S.a,{type:"Bars",color:"#00BFFF",height:80,width:80})}),!(y.length<12)&&Object(h.jsx)("div",{className:"ButtonContainer",children:Object(h.jsx)(m,{onClick:V})}),J&&Object(h.jsx)(S.a,{})&&Object(h.jsx)(d,{onClose:X,src:W,alt:P})]})}o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.0c43b6e7.chunk.js.map